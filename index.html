<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="index.css">
        <title>Calculadora IMC</title>
    </head>
    <body>
        <h1>Guilherme Benso</h1>
        <div class="container">
            <div class="first_step">
                <p>Clique no bot√£o para calcular seu IMC</p>
                <button onclick="Go(1,2)">Iniciar</button>
            </div>
            <div class="second_step">
                <h2>Calculadora IMC</h2>
                <br>
                <label for="">Digite seu peso:</label>
                <input type="number" placeholder="Peso" id="peso">
                <br>
                <br>
                <label for="">Digite sua altura</label>
                <input type="number" placeholder="altura" id="altura">
                <br><br>
                <button onclick="validate()">Calcular</button>
            </div>

            <div class="final_step">
                <h3>Resultado!</h3>
                <p id="resultado"></p>
                <button onclick="Go(3,2)">Calcular novamente</button>
                <button onclick="Go(3,1)">Finalizar</button>
            </div>

        </div>
        <script>
        const first = document.querySelector('.first_step');
        const second = document.querySelector('.second_step');
        const final = document.querySelector('.final_step');

            
function Go(currentStep, nextStep){
    let Dnone, Dblock;

    if (currentStep == 1) {
        Dnone = first;
    }
    else if (currentStep == 2) {
        Dnone = second;
    }
    else{
        Dnone = final;
    }

    Dnone.style.display = "none";
    
    if (nextStep == 1) {
        Dblock = first;
    }
    else if (nextStep == 2) {
        Dblock = second;
    }
    else{
        Dblock  = final;
    }
    Dblock.style.display = 'block';
}

function validate() {
    const peso   = document.getElementById("peso");
    const altura = document.getElementById("altura");
    peso.style.border   = "none";
    altura.style.border = "none";
    
    if (!peso.value || !altura.value) {
        console.log("Campos incorretos");
        if (!peso.value && !altura.value) {
            peso.style.border = "1px solid red";
            altura.style.border = "1px solid red";

        }
        else if (!peso.value) {
            peso.style.border = "1px solid red";
        }
        else{
            altura.style.border = "1px solid red";
        }
    }
    else{
        console.log("tudo ok!, calcular");
        let imc = peso.value  / (altura.value * altura.value);
        const result = document.getElementById("resultado");

        if (imc < 18.5) {
            console.log("Magreza  | Obesidade: 0");
            result.innerHTML = 'Magreza  | Obesidade: 0';  
            result.style.color = "yellow";
        }

        else if (imc >= 18.5 && imc < 25) {
            console.log("Normal  | Obesidade: 0");
            result.innerHTML = 'Normal  | Obesidade: 0';
            result.style.color = "green";
        }

        else if (imc >= 25 && imc < 30) {
            console.log("Sobrepeso  | Obesidade: I");
            result.innerHTML = 'Sobrepeso  | Obesidade: I';
            result.style.color = "yellow";
        }

        else if (imc >= 30 && imc < 40) {
            console.log("Obesidade | Obesidade: II");
            result.innerHTML = 'Obesidade | Obesidade: II';
            result.style.color = "red";

        }

        else{
            console.log("Obesidade  | Obesidade: III");
            result.innerHTML = 'Obesidade  | Obesidade: III';
            result.style.color = "purple";
        }
        Go(2,3);
    }
}
    </script>
    </body>
</html>